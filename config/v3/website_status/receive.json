{
   "$schema" : "http://json-schema.org/draft-04/schema#",
   "required" : [
      "echo_req",
      "msg_type",
      "website_status"
   ],
   "type" : "object",
   "description" : null,
   "title" : "Website Status Response",
   "properties" : {
      "msg_type" : {
         "description" : "website_status",
         "type" : "string"
      },
      "website_status" : {
         "required" : ["currencies_config", "api_call_limits"],
         "properties" : {
            "supported_languages" : {
               "description" : "Provides codes for languages supported",
               "type" : "array",
               "items" : {
                  "type" : "string"
               }
            },
            "currencies_config": {
                "type": "object",
                "minProperties" :  1,
                "patternProperties": {
                    "^[A-Z]{3,4}$": {
                        "type": "object",
                        "required": ["fractional_digits", "type", "stake_default", "transfer_between_accounts"],
                        "properties": {
                            "fractional_digits": {
                                "type": "number",
                                "pattern": "^[0-9]+$"
                            },
                            "type": {
                                "enum": ["fiat", "crypto"]
                            },
                            "stake_default": {
                                "type": "number",
                                "minimum": "0"
                            },
                            "transfer_between_accounts": {
                                "type": "object",
                                "required": ["limits","fees"],
                                "properties": {
                                    "limits": {
                                        "type": "object",
                                        "properties": {
                                            "min": {
                                                "type": "number",
                                                "minimum": 0
                                            }
                                        }
                                    },
                                    "fees": {
                                        "type": "object",
                                        "patternProperties": {
                                            "^[A-Z]{3,4}$": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 7
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "api_call_limits": {
                "type": "object",
                "required": ["max_proposal_subscription", "max_requests_pricing","max_requests_outcome","max_requestes_general"],
                "properties": {
                    "max_proposal_subscription": {
                        "type": "object",
                        "required": ["max","applies_to"],
                        "properties": {
                            "max": {
                                "type": "number",
                                "pattern": "^5$"
                            },
                            "applies_to": {
                                "type": "string"
                            }
                        }
                    },
                    "max_requests_pricing": {
                        "type": "object",
                        "required": ["minutely","hourly", "applies_to"],
                        "properties": {
                            "minutely": {
                                "type": "number",
                                "pattern": "^66$"
                            },
                            "hourly": {
                                "type": "number",
                                "pattern": "^266$"
                            },
                            "applies_to": {
                                "type": "string"
                            }
                        }
                    },
                    "max_requests_outcome": {
                        "type": "object",
                        "required": ["minutely","hourly","applies_to"],
                        "properties": {
                            "minutely": {
                                "type": "number",
                                "pattern": "^55$"
                            },
                            "hourly": {
                                "type": "number",
                                "pattern": "^255$"
                            },
                            "applies_to": {
                                "type": "string"
                            }
                        }
                    },
                    "max_requestes_general": {
                        "type": "object",
                        "required": ["minutely","hourly","applies_to"],
                        "properties": {
                            "minutely": {
                                "type": "number",
                                "pattern": "^244$"
                            },
                            "hourly": {
                                "type": "number",
                                "pattern": "^244$"
                            },
                            "applies_to": {
                                "type": "string"
                            }
                        }
                    }
                }
            
            },
            "message" : {
               "description" : "Text for site status banner, contains problem description.  Shown only if set by the system",
               "type" : "string"
            },
            "site_status" : {
               "pattern" : "^(up|down)$",
               "description" : "Current status of the site. up or down",
               "type" : "string"
            },
            "clients_country" : {
               "type" : "string",
               "description" : "Country code of connected IP"
            },
            "terms_conditions_version" : {
               "description" : "Latest terms and conditions version",
               "type" : "string"
            }
         },
         "type" : "object"
      },
      "req_id" : {
         "description" : "Optional field send in request to map to response, present only when request contains req_id",
         "type" : "integer"
      },
      "echo_req" : {
         "description" : "Echo of the request made",
         "title" : "Echo request"
      }
   }
}
